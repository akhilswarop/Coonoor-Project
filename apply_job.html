<!DOCTYPE html>
<html>
<head>
  <title>Google Drive Image Gallery</title>
  <style>
    #image-gallery img {
      width: 200px;
      margin: 10px;
    }
  </style>
</head>
<body>
  <h1>Google Drive Image Gallery</h1>
  <div id="image-gallery"></div>

  <script>
    function fetchImages() {
      const folderId = '1Ow5lpZOU3TLXVJfPf50E7XPJjc0x_iEl'; // Replace with your actual folder ID
      const webAppUrl = 'https://script.google.com/macros/s/AKfycbwMXBM5AELAFCHyDx73xGtdbEbjQbhtQf5ki9g9BUv8WIw6d-WXt7C3TjCoZLt35m0kiQ/exec'; // Replace with your deployed web app URL

      fetch(`${webAppUrl}?fid=${folderId}`)
        .then(response => response.json())
        .then(data => {
          if (data.status === 'success') {
            var gallery = document.getElementById('image-gallery');
            gallery.innerHTML = '';
            data.data.forEach(function(image) { // Use "img" instead of "image" as the parameter name
              var iframe = document.createElement('iframe');
              iframe.src = `https://drive.google.com/file/d/${image.img_id}/preview`;
              gallery.appendChild(iframe); // Append the iframe, not the img
            });
          }
        })
        .catch(error => console.error('Error fetching images:', error));
    }

    document.addEventListener('DOMContentLoaded', fetchImages);
  </script>

</body>
</html>
